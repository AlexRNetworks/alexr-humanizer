<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tab Cloak Settings - Alexr</title>
    <link rel="icon" id="favicon" href="alexr-favicon.png">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="theme-loader.js" defer></script> <style>
        /* ... your existing inline styles for cloak-settings.html ... */
        /* Ensure these also use CSS variables or are general enough */
        .settings-container {
            background-color: var(--container-bg, rgba(40, 40, 40, 0.9));
            /* ... etc ... */
        }
        .settings-container h1, .settings-container label {
            color: var(--text-color, #e0e0e0);
        }
        .back-link { /* from original cloak-settings */
            color: var(--link-color, #aaa);
        }
        .back-link:hover {
            color: var(--link-hover-color, #fff);
        }

    </style>
</head>
<body>
    <div id="page-background" class="quantum-background"> <div class="stars"></div>
    </div>

    <div class="top-navigation" style="position: absolute; top: 20px; right: 25px; z-index: 10;">
        <a href="index.html" class="nav-link">Humanizer</a>
        <a href="themes.html" class="nav-link">Themes</a>
    </div>
    ```

**Summary of New/Updated Files:**

1.  **`index.html`**: Updated (nav link, script tag).
2.  **`themes.html`**: New file.
3.  **`theme-loader.js`**: New file.
4.  **`style.css`**: Heavily updated (CSS variables, theme definitions).
5.  **`cloak-settings.html`**: Suggested updates (script tag, background div, optional nav).
6.  **`script.js`**: No changes needed for theme functionality as it's handled by `theme-loader.js`.

**Important Notes:**

* **CSS Variables in SVG:** The `background-image` for `.quantum-select` uses an SVG. Directly embedding CSS variables inside a `fill` attribute within a `data:image/svg+xml` URL can be tricky and isn't universally supported. I've put a placeholder `{--quantum-select-arrow-fill}`. A more robust way is to have separate SVG files or use JavaScript to update the SVG, or have multiple class-based versions of the select style. For simplicity, I've used the variable in the CSS, but it might not work. We can address this if it's an issue. The workaround in the CSS I provided (`fill="%23ccc"`) uses a URL-encoded hex code that corresponds to the variable's intended default value. You'd need different classes or JS to change this arrow per theme effectively if the variable doesn't propagate into the data URI.
* **Logo on Light Themes:** The `--logo-filter` variable is an attempt to make your dark logo visible on light themes. The `brightness(0.1) saturate(0%)` example will make it very dark (essentially black). You might need to experiment with filters like `invert(1)` or have alternative logo images for different themes for best results.
* **Starfield:** The starfield effect is now controlled by the `--stars-display` variable. It's `block` for Starfield and `none` for others. You could create different particle effects for other themes if desired.
* **Testing:** Test all pages (`index.html`, `cloak-settings.html`, `themes.html`) after these changes. Navigate between them and ensure the selected theme persists and applies correctly.

This is a big step! Let me know how it goes.
